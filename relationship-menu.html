<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NON-ESCALATOR RELATIONSHIP MENU - YOUNG, NON-MONOGAMOUS EDITION</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 10px; /* Adjusted margin */
        }
        .partner-names {
            text-align: center;
            margin-bottom: 30px;
            font-size: 1.1em;
            color: #555;
        }
        .partner-names input[type="text"] {
            border: none;
            border-bottom: 1px solid #ccc;
            margin: 0 5px;
            padding: 5px;
            text-align: center;
            width: 150px; /* Adjust as needed */
            font-size: 1em;
        }
        .legend {
            background-color: #fff;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .legend span {
            margin-right: 20px;
        }
        .section {
            background-color: #fff;
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 5px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        h2 {
            color: #2c3e50;
            margin-top: 0;
            border-bottom: 2px solid #eee;
            padding-bottom: 10px;
        }
        .item {
            margin: 10px 0;
            display: flex;
            align-items: center;
        }
        .options {
            display: flex;
            gap: 10px;
            margin-right: 15px;
        }
        .option {
            cursor: pointer;
            padding: 5px 10px;
            border: 1px solid #ddd;
            border-radius: 3px;
            transition: all 0.3s;
        }
        .option:hover {
            background-color: #f0f0f0;
        }
        .option.selected {
            background-color: #000 !important;
            color: #fff !important;
            -webkit-print-color-adjust: exact;
            print-color-adjust: exact;
        }

        @media print {
            .option.selected {
                border: 2px solid #000 !important;
                font-weight: bold;
            }
        }
        .custom-item input {
            border: none;
            border-bottom: 1px solid #ddd;
            padding: 5px;
            margin-left: 10px;
            width: 300px;
        }
        .export-buttons {
            text-align: center;
            margin: 20px 0;
            padding: 20px;
        }
    
        .export-buttons button {
            background-color: #2c3e50;
            color: white;
            border: none;
            padding: 10px 20px;
            margin: 0 10px;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
        }
    
        .export-buttons button:hover {
            background-color: #34495e;
            transform: translateY(-2px);
        }
    </style>
</head>
<body>
    <h1>NON-ESCALATOR RELATIONSHIP MENU - YOUNG, NON-MONOGAMOUS EDITION</h1>
    <div class="partner-names">
        <input type="text" placeholder="Partner 1 Name"> & <input type="text" placeholder="Partner 2 Name">
    </div>
    
    <div class="legend">
        <span>■ Must Have</span>
        <span>♥ Like to Have</span>
        <span>? Maybe</span>
        <span>✘ Off Limits</span>
    </div>

    <div class="section" id="connection">
        <h2>CONNECTION & AGREEMENTS</h2>
        <!-- Items will be dynamically generated by JavaScript -->
    </div>

    <div class="section" id="emotional">
        <h2>EMOTIONAL INTIMACY</h2>
    </div>

    <div class="section" id="social">
        <h2>SOCIAL INTEGRATION</h2>
    </div>

    <div class="section" id="physical">
        <h2>PHYSICAL INTIMACY & SEXUAL HEALTH</h2>
    </div>

    <div class="section" id="communication">
        <h2>COMMUNICATION</h2>
    </div>

    <div class="section" id="quality">
        <h2>QUALITY TIME</h2>
    </div>

    <div class="section" id="financial">
        <h2>FINANCIAL MATTERS</h2>
    </div>

    <div class="section" id="autonomy">
        <h2>AUTONOMY</h2>
    </div>

    <div class="section" id="miscellaneous">
        <h2>MISCELLANEOUS</h2>
    </div>

    <script>
        const menuData = {
            connection: [
                'Transparency about other partners / dating apps',
                'Consistency in planned meet-ups',
                'Honesty about feelings & boundaries',
                'Commitment to safer-sex practices (barriers, testing cadence)',
                'Regular renegotiation of agreements',
                'Emotional responsibility (owning impact, not blame)',
                'Clarity on exclusivity expectations (e.g., none / partial)',
                '',
                ''
            ],
            emotional: [
                'Sharing joys & frustrations',
                'Offering support during rough days',
                'Willingness to be vulnerable',
                'Sharing personal growth goals',
                'Check-ins about feelings after seeing others',
                'Respecting emotional boundaries & space',
                'Discussing mental-health needs',
                'Using chosen endearments / pet names',
                '',
                ''
            ],
            social: [
                'Hanging out with mutual friends',
                'Meeting metamours (partners\' partners) if comfortable',  // Fixed the apostrophe
                'Casual group events / parties together',
                'Tagging or mentioning each other on social media',
                'Attending festivals / concerts as a group',
                'Remaining private from family or professional circles',
                'Vacationing with friend groups',
                '',
                ''
            ],
            autonomy: [
                'Maintaining independent friendships',
                'Supporting each other\'s personal goals / careers',  // Fixed the apostrophe
                'Balance of together & alone time',
                'Freedom to travel or move independently',
                'Equal say in relationship decisions',
                '',
                ''
            ],
            miscellaneous: [
                'Pet-sitting or plant-sitting for each other',
                'Creative collaborations (music, art, projects)',
                'Sharing playlists / book recommendations',
                'Wellness support (workouts, meditation)',
                '',
                '',
                ''
            ],
            physical: [
                'Kissing / cuddling',
                'Manual / oral sex',
                'Penetrative sex',
                'Exploring kinks / fantasies',
                'Mutual masturbation or toy play',
                'Regular STI testing (e.g., every 3 months)',
                'Condom / barrier use',
                'Sleepovers',
                'Consent & comfort check-ins during intimacy',
                'Aftercare as needed',
                '',
                ''
            ],
            communication: [
                'Daily or frequent text check-ins',
                'Video / voice calls when apart',
                'Sharing memes / hobbies',
                'Debriefing after dates with others (optional)',
                'Respectful conflict resolution',
                'Scheduling via shared calendar',
                'Radical honesty delivered with care',
                'Expected response time guidelines',
                '',
                ''
            ],
            quality: [
                'Regularly scheduled dates',
                'Spontaneous hangouts',
                'Shared hobbies (e.g., climbing, gaming, music)',
                'Weekend trips / festivals',
                'Cooking or movie nights at home',
                'Attending workshops / classes together',
                '',
                ''
            ],
            financial: [
                'Splitting costs equitably (50/50, sliding scale, etc.)',
                'Alternating who pays for dates',
                'Small gifts or experiences',
                'No shared bank accounts',
                'Discussing large expenses in advance',
                '',
                ''
            ]
        };

        const options = ['■', '♥', '?', '✘'];

        function createItem(text, isCustom = false) {
            const item = document.createElement('div');
            item.className = 'item';

            const optionsDiv = document.createElement('div');
            optionsDiv.className = 'options';

            options.forEach(option => {
                const optionSpan = document.createElement('span');
                optionSpan.className = 'option';
                optionSpan.textContent = option;
                optionSpan.onclick = function() {
                    optionsDiv.querySelectorAll('.option').forEach(opt => opt.classList.remove('selected'));
                    optionSpan.classList.add('selected');
                };
                optionsDiv.appendChild(optionSpan);
            });

            item.appendChild(optionsDiv);

            if (isCustom) {
                const input = document.createElement('input');
                input.type = 'text';
                input.placeholder = 'Custom item...';
                item.appendChild(input);
                item.className = 'item custom-item';
            } else {
                const span = document.createElement('span');
                span.textContent = text;
                item.appendChild(span);
            }

            return item;
        }

        function initializeSection(sectionId, items) {
            const section = document.getElementById(sectionId);
            items.forEach(item => {
                section.appendChild(createItem(item, item === ''));
            });
        }

        // Initialize all sections
        Object.keys(menuData).forEach(sectionId => {
            initializeSection(sectionId, menuData[sectionId]);
        });

        async function exportToPDF() {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF('p', 'pt', 'a4');
            const sections = document.querySelectorAll('.section');
            let currentPage = 1;
            let yOffset = 0;
            const pageHeight = doc.internal.pageSize.height;
            const margin = 40;
        
            // Add title
            const title = document.querySelector('h1');
            await html2canvas(title).then(canvas => {
                const imgData = canvas.toDataURL('image/png');
                doc.addImage(imgData, 'PNG', margin, yOffset, canvas.width * 0.75, canvas.height * 0.75);
                yOffset += canvas.height * 0.75 + 20;
            });
        
            // Add legend
            const legend = document.querySelector('.legend');
            await html2canvas(legend).then(canvas => {
                const imgData = canvas.toDataURL('image/png');
                doc.addImage(imgData, 'PNG', margin, yOffset, canvas.width * 0.75, canvas.height * 0.75);
                yOffset += canvas.height * 0.75 + 20;
            });
        
            // Process each section
            for (const section of sections) {
                await html2canvas(section).then(canvas => {
                    const imgData = canvas.toDataURL('image/png');
                    const imgHeight = canvas.height * 0.75;
        
                    // Check if we need a new page
                    if (yOffset + imgHeight > pageHeight - margin) {
                        doc.addPage();
                        currentPage++;
                        yOffset = margin;
                    }
        
                    doc.addImage(imgData, 'PNG', margin, yOffset, canvas.width * 0.75, imgHeight);
                    yOffset += imgHeight + 20;
                });
            }
        
            doc.save('relationship-menu.pdf');
        }
    
        function exportToExcel() {
            const wb = XLSX.utils.book_new();
            const data = [];
    
            // Add headers
            data.push(['Section', 'Item', 'Selection']);
    
            // Add data from each section
            Object.keys(menuData).forEach(sectionId => {
                const section = document.getElementById(sectionId);
                const title = section.querySelector('h2').textContent;
                
                const items = section.querySelectorAll('.item');
                items.forEach(item => {
                    const selected = item.querySelector('.selected');
                    const text = item.querySelector('input')?.value || item.textContent.trim();
                    const mark = selected ? selected.textContent : '';
                    
                    if (text) {
                        data.push([title, text, mark]);
                    }
                });
            });
    
            const ws = XLSX.utils.aoa_to_sheet(data);
            XLSX.utils.book_append_sheet(wb, ws, 'Relationship Menu');
            XLSX.writeFile(wb, 'relationship-menu.xlsx');
        }
    </script>
    <!-- Remove these script tags as they're no longer needed -->
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script> -->
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script> -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    
    <!-- Add this button div before the closing body tag -->
    <div class="export-buttons">
        <button onclick="window.print()">Export to PDF</button>
        <button onclick="exportToExcel()">Export to Excel</button>
    </div>
</body>
git mv relationship-menu.html index.html
git commit -m "rename to index.html"
git push origin main
</html>

